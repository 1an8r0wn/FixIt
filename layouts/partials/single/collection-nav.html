{{- /* Collection Navigation */ -}}
{{- $params := .Scratch.Get "params" -}}

{{- if .Params.collections | and $params.collectionNavigation -}}
  {{- range .Params.collections -}}
    {{- $term := $.Site.GetPage "/collections" . -}}
    {{- $termLink := printf `<a href="%v">%v <span>%vãƒ»%v</span></span></a>`
      $term.RelPermalink
      (dict "Class" "fa-solid fa-layer-group fa-fw" | partial "plugin/icon.html")
      (T "collection")
      $term.Title
    -}}
    <div class="collection-card">
      <div class="collection-title text-secondary">
        {{ dict "Collections" $termLink | T "single.includedIn.collections" | safeHTML }} {{ len $term.Pages }}
      </div>
      <div class="collection-nav">
        {{- with $term.Pages.Prev $ -}}
          <a href="{{ .RelPermalink }}" class="collection-nav-item" rel="prev" title="{{ .Title }}">
            {{- dict "Class" "fa-solid fa-angle-left fa-fw" | partial "plugin/icon.html" -}}
            <span>{{- .LinkTitle -}}</span>
          </a>
        {{- end -}}
        {{- with $term.Pages.Next $ -}}
          <a href="{{ .RelPermalink }}" class="collection-nav-item" rel="next" title="{{ .Title }}">
            <span>{{- .LinkTitle -}}</span>
            {{- dict "Class" "fa-solid fa-angle-right fa-fw" | partial "plugin/icon.html" -}}
          </a>
        {{- end -}}
      </div>
    </div>
  {{- end -}}
{{- end -}}
